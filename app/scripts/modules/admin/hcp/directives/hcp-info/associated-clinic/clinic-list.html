<ng-include src="'scripts/components/navbar/navbar.html'"></ng-include>
<hcp-navbar></hcp-navbar>

<div class="container admin-user">
  <div class="col-md-16 margin-top reset-padding">
   <div class="user-gen-details">
     <span class="user-gen-details--name">{{doctor.firstName}} {{doctor.lastName}}</span>
     <span class="user-gen-details--hr-id">{{doctor.id}}</span>
   </div>
  </div>

  <div class="col-md-16 admin-views">
    <span class="admin-views--title" translate="doctor.clinic-title"></span>
  </div>
</div>
<div class="dashboard dashboard--content">
  <div class="container dashboard__manage-view margin-top">
    <div class="dashboard__manage-view--header manage_view_list_iPad">
      <div class="col-md-2 col-sm-3 header--type">
        <span translate="doctor.clinic-name"></span>
      </div>
      <div class="col-md-2 header--type col-hide-iPad">
        <span translate="doctor.address"></span>
      </div>
      <div class="col-md-2 col-sm-3 header--type">
        <span translate="doctor.city"></span>
      </div>
      <div class="col-md-2 col-sm-3 header--type">
        <span translate="doctor.state"></span>
      </div>
      <div class="col-md-2 header--type col-hide-iPad">
        <span translate="doctor.phoneNumber"></span>
      </div>
      <div class="col-md-2 col-sm-3 header--type">
        <span translate="doctor.type"></span>
      </div>
      <div class="col-md-2 col-sm-3 header--type">
        <span translate="doctor.hillRom-id"></span>
      </div>
      <div class="clr"></div>
    </div>
    
    <div class="dashboard__manage-view--list assoc manage_view_list_iPad" ng-repeat="clinic in clinicsOfHCP" ng-if="clinicsOfHCP.length > 0"  ng-class="{'inactive': clinic.deleted}" >
      <span ng-click="selectClinic(clinic)">
        <div class="col-md-2  col-sm-3 centered">
          <span class="main-prim-info">{{clinic.name}}</span>
        </div>
        <div class="col-md-2 centered col-hide-iPad">
          <span class="short-info">{{clinic.address}}</span>
        </div>
        <div class="col-md-2  col-sm-3 centered">
          <span class="short-info">{{clinic.city}}</span>
        </div>

        <div class="col-md-2 col-sm-3 centered">
          <span class="short-info">{{clinic.state}}</span>
        </div>

        <div class="col-md-2 col-hide-iPad centered">
          <span class="short-info">{{clinic.phoneNumber}}</span>
        </div>

        <div class="col-md-2 col-sm-3 centered">
          <span class="short-info" ng-if="clinic.parent" translate="doctor.clinicType.parent"></span>
          <span class="short-info" ng-if="!clinic.parent" translate="doctor.clinicType.satellite"></span>
        </div>

        <div class="col-md-2 col-sm-3 centered">
          <span class="impo-highlight">{{clinic.hillromId}}</span>
        </div>
      </span>
      <div class="col-md-2 col-sm-1 centered text-center">
       <span class="icon-delete-icon" ng-click="showclinicDisassociatedModal(clinic.id);"></span>
      </div>
      <div class="clr"></div>
    </div>

    <div class="col-md-16 empty-list-message" ng-if="clinicsAssociatedErrMsg">
      <span translate="doctor.no-clinic-found"></span>
    </div>
  </div>
</div>


<div class="container admin-user">
  <div class="col-md-16 reset-padding">
    <div class="col-md-8 clinic-link">
      <input class="form-control" type="text" ng-model="searchItem" typeahead="clinic.hillromId + '' +clinic.name +' &nbsp;'+ clinic.city + ' &nbsp;' + clinic.state for clinic in clinics | filter:{name:$viewValue}" typeahead-on-select="showAssociateClinicModal($item)" placeholder="{{'doctor.placeholder.link-clinic' | translate}}" ng-show="associateClinicSearch">
    </div>

    <div class="col-md-8 clinic-link" ng-show="!associateClinicSearch && clinicsOfHCP && !doctor.deleted">
      <buton class="hillrom-btn btn-primary float-right" ng-click="linkClinic()" translate="doctor.link-clinic"></buton>
    </div>
  </div>
</div>

<div ng-if="deactivateModal" class="modal" id="sg-modal" tabIndex="-1" role="dialog" aria-labelledby="sgModalLabel" aria-hidden="true">
  <div class="modal__dialog">
    <div class="modal__content">
      <header class="modal__header">
        <button type="button" class="modal__close" data-dismiss="modal" ng-click="close()">&times;</button>
         <p translate="doctor.clinic-disassociate.warning"></p>
      </header>
      <div class="modal__body">
         <div class="modal--message" translate="doctor.clinic-disassociate.message"></div>
         <div class="row modal--custom-btn">
          <buton class="hillrom-btn btn-submit float-right" ng-click="disassociateClinic()">Yes</buton>
          <buton class="hillrom-btn btn-submit float-right" data-dismiss="modal" ng-click="close()">No</buton>
         </div>
      </div>
      <footer class="modal__footer">
      </footer>
    </div>
  </div>
</div>

<modal ng-if="associatedClinicModal" onyes="selectClinicFromHCP()" onno="$parent.associatedClinicModal = false; $parent.searchItem= ''" header="{{'doctor.clinic-associate.warning' | translate}}" message="{{'doctor.clinic-associate.message' | translate}}"></modal>